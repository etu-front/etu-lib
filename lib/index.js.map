{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"react\"","webpack:///external \"styled-components\"","webpack:///external \"prop-types\"","webpack:///external \"antd\"","webpack:///external \"react-lazyload\"","webpack:///./src/components/View.jsx","webpack:///./src/components/FileIcon.jsx","webpack:///./src/components/MediaList.jsx","webpack:///./src/components/SlideShow.jsx","webpack:///./src/components/FullScreenModal.jsx","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","Container","styled","div","_templateObject","View","_ref","className","children","align","justify","_ref$column","column","undefined","_ref$wrap","wrap","_ref$row","row","radius","height","background","color","flex","width","style","rest","_objectWithoutProperties","customStyle","flexDirection","alignItems","justifyContent","flexWrap","borderRadius","external_react_default","a","createElement","_extends","keys","displayName","Center","_templateObject2","icons","push","CustomIcon","Icon","createFromIconfontCN","scriptUrl","FileIcon","_ref$style","_ref$size","size","type","FileIcon_objectWithoutProperties","iconType","fileType","toLowerCase","includes","indexOf","getIconType","FileIcon_extends","fontSize","PlayIcon","MediaList_templateObject","ImageCard","thumbnail","_ref$backgroundColor","backgroundColor","icon","backgroundImage","backgroundSize","backgroundPosition","display","margin","maxWidth","List","MediaList_templateObject2","props","Item","Card","_templateObject3","fixed","Name","_templateObject4","FileName","_ref2","external_antd_","title","length","placement","Close","_templateObject5","MediaList","handleRemoveItem","id","e","preventDefault","stopPropagation","_this","onDelete","onClick","items","index","item","window","document","href","pdfPrevView","getFile","data","media_id","getDownload","target","body","appendChild","click","setTimeout","removeChild","renderMediaNode","_this$props","lazyLoad","mediaType","imgWidth","imgHeight","getThumbnail","img","MediaList_ImageCard","external_react_lazyload_default","offset","once","components_FileIcon","PureComponent","_this2","this","_props","bordered","noName","_props$hasDeleteButto","hasDeleteButton","map","mediaIndex","fileName","getFileName","MediaList_FileName","propTypes","PropTypes","array","isRequired","bool","number","func","defaultProps","bindGetFileFunctions","_ref4","extra","file_name","attrs","SlideShow_templateObject","Header","SlideShow_templateObject2","Main","SlideShow_templateObject3","Sider","SlideShow_templateObject4","BaseIcon","SlideShow_templateObject5","DirectionIcon","_templateObject6","SlideShow","state","current","visible","onKeyDown","medias","keyCode","prevMedia","nextMedia","handleClose","getMedia","idx","media","_typeof","JSON","parse","SlideShow_extends","onClose","handleChange","setState","sidebar","Component","prevProps","addEventListener","overflow","removeEventListener","canDownload","rel","download","marginRight","as","currentMedia","isMultiple","mediaWidth","clientWidth","mediaHeight","clientHeight","url","components_View","renderDownloadIcon","theme","tagName","left","maxHeight","textAlign","src","alt","controls","autoPlay","controlsList","right","_this3","SlideShow_Container","renderCurrentMedia","paddingTop","FullScreenModal","FullScreenModal_objectWithoutProperties","FullScreenModal_extends","mask","wrapClassName","FullScreenModal_templateObject","hasHeader","hasFooter","__webpack_exports__","components_MediaList","components_SlideShow","components_FullScreenModal"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","module.exports = require(\"react\");","module.exports = require(\"styled-components\");","module.exports = require(\"prop-types\");","module.exports = require(\"antd\");","module.exports = require(\"react-lazyload\");","import React from 'react'\nimport styled from 'styled-components'\n\nconst Container = styled.div`\n  align-items: stretch;\n  justify-content: flex-start;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  font: inherit;\n  text-align: inherit;\n  text-decoration: none;\n  list-style: none;\n  pointer-events: auto;\n`\n\nconst View = ({\n  className,\n  children,\n  align,\n  justify,\n  column = false,\n  wrap = false,\n  row = false,\n  radius,\n  height,\n  background,\n  color,\n  flex,\n  width,\n  style,\n  ...rest\n}) => {\n  let customStyle = {}\n\n  if (row) {\n    customStyle.flexDirection = 'row'\n  }\n\n  if (column) {\n    customStyle.flexDirection = 'column'\n  }\n\n  if (customStyle.flexDirection && customStyle.flexDirection === 'row') {\n    customStyle.alignItems = 'flex-start'\n  }\n\n  if (align) {\n    customStyle.alignItems = align\n  }\n\n  if (justify) {\n    customStyle.justifyContent = justify\n  }\n\n  if (wrap) {\n    customStyle.flexWrap = 'wrap'\n  }\n\n  if (flex) {\n    customStyle.flex = flex\n  }\n\n  if (width !== undefined) {\n    customStyle.width = width\n  }\n\n  if (height !== undefined) {\n    customStyle.height = height\n  }\n\n  if (background) {\n    customStyle.background = background\n  }\n  if (color !== undefined) {\n    customStyle.color = color\n  }\n  if (radius) {\n    customStyle.borderRadius = radius\n  }\n\n  if (style) {\n    customStyle = { ...customStyle, ...style }\n  }\n\n  return (\n    <Container className={className} style={Object.keys(customStyle) ? customStyle : null} {...rest}>\n      {children}\n    </Container>\n  )\n}\nView.displayName = 'View'\n\nView.Center = styled(View)`\n  align-items: center !important;\n  justify-content: center !important;\n`\nView.Center.displayName = 'View.Center'\n\nexport default View\n","import React from 'react'\nimport { Icon } from 'antd'\n\nconst icons = ['ai', 'attachment', 'audio', 'box-notes', 'csv', 'eps', 'excel']\nicons.push('exe', 'flash', 'doc', 'gpres', 'gsheet', 'html', 'image', 'keynote')\nicons.push('link', 'mp4', 'overlay', 'pack', 'pages', 'pdf', 'ppt', 'psd', 'rtf')\nicons.push('slide', 'stypi', 'txt', 'video', 'visio', 'webex', 'word', 'xml', 'zip')\n\nexport const getIconType = fileType => {\n  const type = fileType.toLowerCase()\n  if (['doc', 'docx'].includes(type)) return 'word'\n  if (['ppt', 'pptx'].includes(type)) return 'ppt'\n  if (icons.indexOf(type) >= 0) return type\n  if (['mp3', 'wav', 'ape', 'flac', 'wma'].includes(type)) return 'audio'\n  if (['mov', 'ogg', 'avi', 'rmvb', 'flv', 'wmv', 'asf'].includes(type)) return 'video'\n  return 'unknown'\n}\n\nconst CustomIcon = Icon.createFromIconfontCN({\n  scriptUrl: '//at.alicdn.com/t/font_922089_bk9l48330b8.js' // 在 iconfont.cn 上生成\n})\n\nconst FileIcon = ({ style = {}, size = 50, type, ...rest }) => {\n  const iconType = getIconType(type)\n  return <CustomIcon type={`icon-${iconType}`} style={{ ...style, fontSize: size }} {...rest} />\n}\nFileIcon.displayName = 'FileIcon'\nexport default FileIcon\n","import PropTypes from 'prop-types'\nimport React, { PureComponent } from 'react'\nimport LazyLoad from 'react-lazyload'\nimport styled from 'styled-components'\n\nimport { Card, Icon, Tooltip } from 'antd'\nimport FileIcon from './FileIcon'\n\nconst PlayIcon = styled(Icon)`\n  color: white;\n  font-size: 28px;\n  align-self: center;\n  margin: 0 auto;\n  &:hover {\n    color: #eee;\n  }\n`\n\nconst ImageCard = ({ thumbnail, width, height, backgroundColor = '#F0F0F0', icon }) => (\n  <div\n    style={{\n      backgroundImage: `url(${thumbnail})`,\n      backgroundSize: 'cover',\n      backgroundPosition: 'center',\n      display: 'flex',\n      width,\n      height,\n      margin: '0 auto',\n      maxWidth: '100%',\n      backgroundColor\n    }}\n  >\n    {icon}\n  </div>\n)\n\nexport const List = styled.div`\n  clear: both;\n  margin: 0 -${props => props.margin}px;\n  list-style: none;\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: row;\n`\nList.Item = styled(Card)`\n  &.ant-card {\n    margin: ${props => props.margin + 'px'};\n    overflow: hidden;\n    border-color: #d5d4d4;\n    border-radius: 4px;\n    background: ${props => props.background};\n    position: relative;\n    display: flex;\n    align-items: ${props => (props.fixed ? 'center' : 'flex-start')};\n    justify-content: center;\n  }\n  .ant-card-body {\n    padding: ${props => (props.fixed ? 0 : '18px 22px')};\n    text-align: center;\n    cursor: pointer;\n  }\n`\nList.Item.displayName = 'ListItem'\n\nList.Name = styled.div`\n  position: absolute;\n  left: 0;\n  right: 0;\n  padding: 0 5px;\n  bottom: ${props => (props.fixed ? 0 : '10px')};\n  height: 20px;\n  font-size: 12px;\n  line-height: 20px;\n  color: ${props => (props.fixed ? '#fff' : '#787878')};\n  background: ${props => (props.fixed ? '#33333399' : 'transparent')};\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  text-align: center;\n`\n\nexport const FileName = ({ name, fixed }) => (\n  <List.Name fixed={fixed ? 1 : 0}>\n    <Tooltip title={name.length < 20 ? '' : name} placement=\"topLeft\">\n      {name}\n    </Tooltip>\n  </List.Name>\n)\n\nexport const Close = styled.div`\n  position: absolute;\n  right: 2px;\n  top: 2px;\n  color: red;\n  cursor: pointer;\n  .anticon-iconfont {\n    font-size: 18px;\n  }\n`\n\nexport default class MediaList extends PureComponent {\n  static displayName = 'MediaList'\n  static propTypes = {\n    items: PropTypes.array.isRequired,\n    noName: PropTypes.bool,\n    margin: PropTypes.number,\n    bordered: PropTypes.bool,\n    fixed: PropTypes.bool,\n    onDelete: PropTypes.func,\n    hasDeleteButton: PropTypes.bool,\n    pdfPrevView: PropTypes.bool,\n    lazyLoad: PropTypes.bool,\n    onClick: PropTypes.func\n  }\n\n  static defaultProps = {\n    items: [],\n    background: '#f5f5f5',\n    width: 100,\n    height: 100,\n    margin: 5,\n    bordered: false,\n    fixed: true,\n    noName: true,\n    pdfPrevView: false,\n    lazyLoad: true\n  }\n\n  static getThumbnail = (id, width, height) => {}\n  static getFile = id => {}\n  static getDownload = id => {}\n  // 绑定获取文件地址函数\n  static bindGetFileFunctions = ({ getThumbnail, getFile, getDownload }) => {\n    MediaList.getFile = getFile\n    MediaList.getThumbnail = getThumbnail\n    MediaList.getDownload = getDownload\n  }\n\n  static getFileName = data => {\n    if (data.name) return data.name\n    if (data.extra && data.extra.file_name) return data.extra.file_name\n    if (data.extra && data.extra.attrs) return data.extra.attrs.file_name\n  }\n\n  handleRemoveItem = (id, e) => {\n    e.preventDefault()\n    e.stopPropagation()\n    this.props.onDelete && this.props.onDelete(id)\n  }\n\n  onClick = (items, index) => {\n    const item = items[index]\n    if (item.type !== 'picture' && item.type !== 'video') {\n      const a = window.document.createElement('a')\n      a.href =\n        this.props.pdfPrevView && item.type === 'pdf'\n          ? MediaList.getFile(item.data || item.media_id)\n          : MediaList.getDownload(item.data || item.media_id)\n      a.target = '_blank'\n      document.body.appendChild(a)\n      a.click()\n      setTimeout(function() {\n        document.body.removeChild(a)\n      }, 0)\n    } else {\n      this.props.onClick && this.props.onClick(items, index)\n    }\n  }\n\n  renderMediaNode = data => {\n    const { width, height, lazyLoad, fixed } = this.props,\n      id = data.media_id\n    const mediaType = data.type\n\n    let thumbnail,\n      imgWidth = width / (fixed ? 1 : 1.8),\n      imgHeight = height / (fixed ? 1 : 2.5)\n\n    thumbnail = MediaList.getThumbnail(id, width, height)\n    // 预览模式，小图\n    if (mediaType === 'video' || mediaType === 'picture') {\n      const img = (\n        <ImageCard\n          thumbnail={thumbnail}\n          width={imgWidth}\n          height={imgHeight}\n          icon={mediaType === 'video' && <PlayIcon type=\"play-circle\" />}\n        />\n      )\n      if (lazyLoad) {\n        return (\n          <LazyLoad height={height} offset={50} once>\n            {img}\n          </LazyLoad>\n        )\n      }\n      return img\n    }\n    return <FileIcon type={mediaType} size={fixed ? width / 2 : imgHeight} style={{ margin: '0 auto' }} />\n  }\n\n  // 视频和图片\n  render() {\n    const { items, margin, bordered, background, noName, fixed, width, height, hasDeleteButton = false } = this.props\n    return (\n      <List margin={margin}>\n        {items.map((data, mediaIndex) => {\n          const fileName = (!noName || (data.type !== 'picture' && data.type !== 'video')) && MediaList.getFileName(data)\n          return (\n            <List.Item\n              onClick={this.onClick.bind(null, items, mediaIndex)}\n              key={data.media_id + '_' + mediaIndex}\n              bordered={bordered && !noName}\n              style={{ width, height }}\n              fixed={fixed ? 1 : 0}\n              margin={margin}\n              background={background}\n            >\n              {this.renderMediaNode(data)}\n              {hasDeleteButton && (\n                <Close onClick={this.handleRemoveItem.bind(null, data.media_id)}>\n                  <Icon type=\"delete\" />\n                </Close>\n              )}\n              {fileName && <FileName fixed={fixed} name={fileName} />}\n            </List.Item>\n          )\n        })}\n      </List>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\n\nimport { Icon } from 'antd'\nimport View from './View'\nimport FileIcon from './FileIcon'\n\nconst Container = styled(View)`\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  z-index: 9999;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.6);\n`\nconst Header = styled.div`\n  position: absolute;\n  top: 20px;\n  right: 20px;\n  z-index: 1;\n  text-align: right;\n`\n\nconst Main = styled(View)`\n  flex: 1;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  user-select: none;\n  position: relative;\n`\n\nconst Sider = styled(View)`\n  width: 100px;\n  min-width: 100px;\n  height: 100%;\n  overflow-y: auto;\n  padding: 10px;\n  background: rgba(0, 0, 0, 0.3);\n  li {\n    height: 80px;\n    background-size: cover !important;\n    margin-top: 8px;\n    text-align: center;\n  }\n  .onSelected {\n    outline: 3px solid #fff;\n  }\n`\n\nconst BaseIcon = styled.a`\n  color: #fff;\n  transition: opacity 0.1s;\n  text-shadow: 0 0 2px rgba(0, 0, 0, 0.8);\n  opacity: 0.8;\n  font-size: 30px;\n  &:hover {\n    color: #fff;\n    opacity: 1;\n  }\n  cursor: pointer;\n`\nconst DirectionIcon = styled(BaseIcon)`\n  position: absolute;\n  display: flex;\n  align-items: center;\n  width: 20%;\n  height: 100%;\n  font-size: 36px;\n`\n\nexport default class SlideShow extends Component {\n  static displayName = 'SlideShow'\n\n  static propTypes = {\n    visible: PropTypes.bool,\n    canDownload: PropTypes.bool,\n    onClose: PropTypes.func,\n    medias: PropTypes.array,\n    current: PropTypes.number\n  }\n\n  static defaultProps = {\n    visible: false,\n    medias: [],\n    canDownload: true,\n    current: 0\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if (props.visible && !state.visible) return { current: props.current, visible: props.visible }\n    if (!props.visible) return { visible: false, current: 0 }\n    return null\n  }\n\n  static getThumbnail = (id, width, height) => {}\n  static getFile = id => {}\n  static getDownload = id => {}\n  // 绑定获取文件地址函数\n  static bindGetFileFunctions = ({ getThumbnail, getFile, getDownload }) => {\n    SlideShow.getFile = getFile\n    SlideShow.getThumbnail = getThumbnail\n    SlideShow.getDownload = getDownload\n  }\n\n  static getFileName = data => {\n    if (data.name) return data.name\n    if (data.extra && data.extra.file_name) return data.extra.file_name\n    if (data.extra && data.extra.attrs) return data.extra.attrs.file_name\n  }\n\n  state = {\n    current: this.props.current,\n    visible: this.props.visible\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.visible && !prevProps.visible) {\n      document.addEventListener('keydown', this.onKeyDown, false)\n      document.body.style.overflow = 'hidden'\n    }\n    if (!this.props.visible && prevProps.visible) {\n      document.body.style.overflow = ''\n      document.removeEventListener('keydown', this.onKeyDown)\n    }\n  }\n\n  onKeyDown = e => {\n    if (!this.props.medias || this.props.medias.length < 1) return\n    if (e.keyCode === 37 || e.keyCode === 38) {\n      e.preventDefault()\n      e.stopPropagation()\n      this.prevMedia()\n    } else if (e.keyCode === 39 || e.keyCode === 40) {\n      e.preventDefault()\n      e.stopPropagation()\n      this.nextMedia()\n    } else if (e.keyCode === 27) {\n      this.handleClose()\n    }\n    return false\n  }\n\n  getMedia = idx => {\n    const media = this.props.medias[idx]\n    if (typeof media.extra === 'object') return media\n    let extra = {}\n    try {\n      extra = JSON.parse(media.extra)\n      if (extra.attrs) {\n        extra = extra.attrs\n      }\n    } catch (e) {\n      extra = {}\n    }\n    return {\n      ...media,\n      extra\n    }\n  }\n\n  handleClose = () => {\n    this.props.onClose && this.props.onClose()\n  }\n\n  get currentMedia() {\n    return this.getMedia(this.state.current)\n  }\n\n  handleChange = idx => {\n    this.setState({ current: idx })\n  }\n\n  prevMedia = () => {\n    if (!this.props.sidebar) return\n    let idx = this.state.current - 1\n    if (this.state.current === 0) {\n      idx = this.props.medias.length - 1\n    }\n    this.handleChange(idx)\n  }\n\n  nextMedia = () => {\n    if (!this.props.sidebar) return\n    let idx = 0\n    if (this.state.current !== this.props.medias.length - 1) {\n      idx = this.state.current + 1\n    }\n    this.handleChange(idx)\n  }\n\n  get isMultiple() {\n    return this.props.medias.length > 1\n  }\n\n  renderDownloadIcon(item) {\n    if (this.props.canDownload) {\n      return (\n        <BaseIcon\n          href={SlideShow.getDownload(item.media_id)}\n          rel=\"noopener noreferrer\"\n          target=\"_blank\"\n          download\n          style={{ marginRight: 20 }}\n        >\n          <Icon type=\"download\" size={32} />\n        </BaseIcon>\n      )\n    }\n    if (item.type !== 'picture' && item.type !== 'video') {\n      return (\n        <BaseIcon\n          as=\"a\"\n          href={SlideShow.getFile(item.media_id)}\n          rel=\"noopener noreferrer\"\n          target=\"_blank\"\n          style={{ marginRight: 20 }}\n        >\n          <Icon type=\"eye\" size={32} />\n        </BaseIcon>\n      )\n    }\n    return (\n      <BaseIcon as=\"a\" style={{ marginRight: 20 }}>\n        {' '}\n      </BaseIcon>\n    )\n  }\n  renderCurrentMedia() {\n    const media = this.currentMedia,\n      size = this.isMultiple ? 80 : 40,\n      mediaWidth = window.document.body.clientWidth - size,\n      mediaHeight = window.document.body.clientHeight - 20,\n      { media_id, type } = media\n\n    const url = SlideShow.getFile(media_id)\n\n    return (\n      <View flex={1} className={'relative'}>\n        <Header>\n          {this.renderDownloadIcon(media)}\n          <BaseIcon onClick={this.handleClose}>\n            <Icon type=\"close-circle\" theme=\"filled\" />\n          </BaseIcon>\n        </Header>\n        <Main\n          onClick={\n            this.isMultiple\n              ? undefined\n              : e => {\n                  if (e.target.tagName !== 'VIDEO' && e.target.tagName !== 'IMG') {\n                    this.handleClose()\n                  }\n                }\n          }\n        >\n          {this.isMultiple && this.props.sidebar && (\n            <DirectionIcon onClick={this.prevMedia} style={{ justifyContent: 'flex-start', left: 0 }}>\n              <Icon type=\"left\" />\n            </DirectionIcon>\n          )}\n          <div style={{ maxWidth: mediaWidth, maxHeight: mediaHeight, textAlign: 'center', width: '100%' }}>\n            {type === 'picture' && (\n              <img\n                key={url} // 不设置 Key 会导致 React 替换 src 属性而不是创建新的元素，在新的图像加载完成之前都不会显示出来\n                src={url + 'thumbnail/'}\n                style={{ maxHeight: mediaHeight, maxWidth: '100%' }}\n                alt={url}\n              />\n            )}\n            {type === 'video' && (\n              <video\n                key={url}\n                src={url}\n                controls\n                autoPlay\n                controlsList=\"nodownload\"\n                style={{ maxHeight: mediaHeight, maxWidth: 'calc(100% - 40%)' }}\n              />\n            )}\n\n            {type !== 'picture' && type !== 'video' && (\n              <a href={SlideShow.getFile(media.media_id)} rel=\"noopener noreferrer\" target=\"_blank\">\n                <View align={'center'}>\n                  <FileIcon type={type} size={100} />\n                  <p className={'t-white m-t-20 f18'}>{SlideShow.getFileName(media)}</p>\n                </View>\n              </a>\n            )}\n          </div>\n          {this.isMultiple && this.props.sidebar && (\n            <DirectionIcon onClick={this.nextMedia} style={{ justifyContent: 'flex-end', right: 0 }}>\n              <Icon type=\"right\" />\n            </DirectionIcon>\n          )}\n        </Main>\n      </View>\n    )\n  }\n\n  render() {\n    const { medias, sidebar } = this.props\n    if (!this.props.visible) return null\n    return (\n      <Container row align=\"stretch\">\n        {this.renderCurrentMedia()}\n        {sidebar && medias.length > 1 && (\n          <Sider>\n            <ul>\n              {medias.map((m, idx) => {\n                const item = this.getMedia(idx)\n                const name = SlideShow.getFileName(item)\n                if (item.type === 'video' || item.type === 'picture') {\n                  const url = SlideShow.getThumbnail(item.media_id, 160, 160)\n                  return (\n                    <li\n                      key={item.media_id}\n                      className={idx === this.state.current ? 'onSelected' : ''}\n                      title={name}\n                      style={{ background: `url(${url}) center no-repeat` }}\n                      onClick={this.handleChange.bind(null, idx)}\n                    />\n                  )\n                }\n\n                return (\n                  <li\n                    key={item.media_id}\n                    className={idx === this.state.current ? 'onSelected' : ''}\n                    title={name}\n                    onClick={this.handleChange.bind(null, idx)}\n                  >\n                    <FileIcon type={item.type} size={50} style={{ margin: '0 auto', paddingTop: 10 }} />\n                  </li>\n                )\n              })}\n            </ul>\n          </Sider>\n        )}\n      </Container>\n    )\n  }\n}\n","import React from 'react'\nimport { Modal } from 'antd'\nimport styled from 'styled-components'\n\nconst FullModal = ({ className, children, background, ...rest }) => (\n  <Modal {...rest} mask={false} wrapClassName={className + ' ' + (rest.wrapClassName || '')}>\n    {children}\n  </Modal>\n)\n\nconst FullScreenModal = styled(FullModal)`\n  .ant-modal {\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    height: 100vh;\n    width: 100vw !important;\n    padding-bottom: 0;\n    color: ${props => props.color || '#474747'};\n  }\n  .ant-modal-content {\n    background: ${props => props.background || '#fff'};\n    height: 100%;\n    overflow: auto;\n  }\n  .ant-modal-close {\n    color: #666;\n  }\n  .ant-modal-header {\n    display: ${props => props.hasHeader ? 'block' : 'none'};\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n  }\n  .ant-modal-footer {\n    display: ${props => props.hasFooter ? 'block' : 'none'};\n    bottom: 0px;\n    position: absolute;\n    left: 0;\n    right: 0;\n  }\n  .ant-modal-body {\n    background: transparent;\n    height: 100%;\n    padding: ${props => (props.hasFooter || props.hasHeader) ? '60px 24px' : '24px'};\n  }\n`\n\nexport default FullScreenModal\n","import View from './components/View'\nimport FileIcon from './components/FileIcon'\nimport MediaList from './components/MediaList'\nimport SlideShow from './components/SlideShow'\nimport FullScreenModal from './components/FullScreenModal'\n\nexport { View, FileIcon, MediaList, SlideShow, FullScreenModal }\n"],"sourceRoot":""}