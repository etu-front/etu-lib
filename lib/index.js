module.exports=function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=8)}([function(e,n){e.exports=require("react")},function(e,n){e.exports=require("styled-components")},function(e,n){e.exports=require("prop-types")},function(e,n){e.exports=require("antd")},function(e,n){e.exports=require("react-dnd")},function(e,n){e.exports=require("react-lazyload")},function(e,n){e.exports=require("react-dnd-html5-backend")},function(e,n){e.exports=require("react-dom")},function(e,n,t){"use strict";t.r(n);var r=t(0),o=t.n(r),i=t(1),a=t.n(i),l=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},c=d(["\n  align-items: stretch;\n  justify-content: flex-start;\n  box-sizing: border-box;\n  display: flex;\n  position: relative;\n  flex-direction: column;\n  font: inherit;\n  text-align: inherit;\n  text-decoration: none;\n  list-style: none;\n  pointer-events: auto;\n"],["\n  align-items: stretch;\n  justify-content: flex-start;\n  box-sizing: border-box;\n  display: flex;\n  position: relative;\n  flex-direction: column;\n  font: inherit;\n  text-align: inherit;\n  text-decoration: none;\n  list-style: none;\n  pointer-events: auto;\n"]),s=d(["\n  align-items: center !important;\n  justify-content: center !important;\n"],["\n  align-items: center !important;\n  justify-content: center !important;\n"]);function d(e,n){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var u=a.a.div(c),p=function(e){var n=e.className,t=e.children,r=e.align,i=e.justify,a=e.column,c=void 0!==a&&a,s=e.wrap,d=void 0!==s&&s,p=e.row,f=void 0!==p&&p,g=e.radius,h=e.height,m=e.background,b=e.color,y=e.flex,v=e.width,x=e.style,w=function(e,n){var t={};for(var r in e)n.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}(e,["className","children","align","justify","column","wrap","row","radius","height","background","color","flex","width","style"]),O={};return f&&(O.flexDirection="row"),c&&(O.flexDirection="column"),O.flexDirection&&"row"===O.flexDirection&&(O.alignItems="flex-start"),r&&(O.alignItems=r),i&&(O.justifyContent=i),d&&(O.flexWrap="wrap"),y&&(O.flex=y),void 0!==v&&(O.width=v),void 0!==h&&(O.height=h),m&&(O.background=m),void 0!==b&&(O.color=b),g&&(O.borderRadius=g),x&&(O=l({},O,x)),o.a.createElement(u,l({className:n,style:Object.keys(O)?O:null},w),t)};p.displayName="View",(p.Center=a()(p)(s)).displayName="View.Center";var f=p,g=t(3),h=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};var m=["ai","attachment","audio","box-notes","csv","eps","excel"];m.push("exe","flash","doc","gpres","gsheet","html","image","keynote"),m.push("link","mp4","overlay","pack","pages","pdf","ppt","psd","rtf"),m.push("slide","stypi","txt","video","visio","webex","word","xml","zip");var b=g.Icon.createFromIconfontCN({scriptUrl:"//at.alicdn.com/t/font_922089_bk9l48330b8.js"}),y=function(e){var n=e.style,t=void 0===n?{}:n,r=e.size,i=void 0===r?50:r,a=e.type,l=function(e,n){var t={};for(var r in e)n.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}(e,["style","size","type"]),c=function(e){if(!e)return"attachment";var n=e.toLowerCase();return["doc","docx"].includes(n)?"word":["ppt","pptx"].includes(n)?"ppt":m.indexOf(n)>=0?n:["mp3","wav","ape","flac","wma"].includes(n)?"audio":["mov","ogg","avi","rmvb","flv","wmv","asf"].includes(n)?"video":"attachment"}(a);return o.a.createElement(b,h({type:"icon-"+c,style:h({},t,{fontSize:i})},l))};y.displayName="FileIcon";var v=y,x=t(2),w=t.n(x),O=t(5),k=t.n(O),j=t(4),C=t(6),E=t.n(C),D=t(7),S=t(9),N=t.n(S),P=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};function _(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var z={beginDrag:function(e){return{id:e.id,index:e.index}}},I={hover:function(e,n,t){if(!t)return null;var r=n.getItem().index,o=e.index;if(r!==o){var i=Object(D.findDOMNode)(t).getBoundingClientRect(),a=(i.bottom-i.top)/2,l=n.getClientOffset().y-i.top;r<o&&l<a||r>o&&l>a||(e.onSort(r,o),n.getItem().index=o)}}},F=function(e){var n,t=e.isDragging,r=e.isOver,i=e.connectDragSource,a=e.connectDropTarget,l=e.children,c=e.overClassName,s=void 0===c?"":c,d=e.draggingClassName,u=void 0===d?"":d,p=e.overStyle,f=void 0===p?{border:"1px solid #999",margin:-1}:p,g=e.draggingStyle,h={style:P({opacity:t?0:1},r?f:{},t?void 0===g?{}:g:{}),className:N()((n={},_(n,u,t),_(n,s,r),n))};return i(a(o.a.createElement("div",h,l)))},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"CARD";return Object(j.DropTarget)(e,I,function(e,n){return{connectDropTarget:e.dropTarget(),isOver:n.isOver()}})(Object(j.DragSource)(e,z,function(e,n){return{connectDragSource:e.dragSource(),isDragging:n.isDragging()}})(F))},T=M("SORT_ITEM"),R=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},L=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),A=G(["\n  color: white;\n  font-size: 28px;\n  align-self: center;\n  margin: 0 auto;\n  &:hover {\n    color: #eee;\n  }\n"],["\n  color: white;\n  font-size: 28px;\n  align-self: center;\n  margin: 0 auto;\n  &:hover {\n    color: #eee;\n  }\n"]),q=G(["\n  clear: both;\n  margin: 0 -","px;\n  list-style: none;\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: row;\n  & > div, > .ant-card {\n    margin: ",";\n    overflow: hidden;\n    border-color: #d5d4d4;\n    border-radius: 4px;\n    background: ",";\n    position: relative;\n    display: flex;\n    align-items: ",";\n    justify-content: center;\n  }\n"],["\n  clear: both;\n  margin: 0 -","px;\n  list-style: none;\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: row;\n  & > div, > .ant-card {\n    margin: ",";\n    overflow: hidden;\n    border-color: #d5d4d4;\n    border-radius: 4px;\n    background: ",";\n    position: relative;\n    display: flex;\n    align-items: ",";\n    justify-content: center;\n  }\n"]),V=G(["\n  &.ant-card {\n    margin: ",";\n    overflow: hidden;\n    border-color: #d5d4d4;\n    border-radius: 4px;\n    background: ",";\n    position: relative;\n    display: flex;\n    align-items: ",";\n    justify-content: center;\n  }\n  .ant-card-body {\n    padding: ",";\n    text-align: center;\n    cursor: pointer;\n  }\n"],["\n  &.ant-card {\n    margin: ",";\n    overflow: hidden;\n    border-color: #d5d4d4;\n    border-radius: 4px;\n    background: ",";\n    position: relative;\n    display: flex;\n    align-items: ",";\n    justify-content: center;\n  }\n  .ant-card-body {\n    padding: ",";\n    text-align: center;\n    cursor: pointer;\n  }\n"]),H=G(["\n  position: absolute;\n  left: 0;\n  right: 0;\n  padding: 0 5px;\n  bottom: ",";\n  height: 20px;\n  font-size: 12px;\n  line-height: 20px;\n  color: ",";\n  background: ",";\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  text-align: center;\n"],["\n  position: absolute;\n  left: 0;\n  right: 0;\n  padding: 0 5px;\n  bottom: ",";\n  height: 20px;\n  font-size: 12px;\n  line-height: 20px;\n  color: ",";\n  background: ",";\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  text-align: center;\n"]),W=G(["\n  position: absolute;\n  right: 2px;\n  top: 2px;\n  color: red;\n  cursor: pointer;\n  .anticon-iconfont {\n    font-size: 18px;\n  }\n"],["\n  position: absolute;\n  right: 2px;\n  top: 2px;\n  color: red;\n  cursor: pointer;\n  .anticon-iconfont {\n    font-size: 18px;\n  }\n"]);function B(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function G(e,n){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var K=a()(g.Icon)(A),U=function(e){var n=e.thumbnail,t=e.width,r=e.height,i=e.backgroundColor,a=void 0===i?"#F0F0F0":i,l=e.icon;return o.a.createElement("div",{style:{backgroundImage:"url("+n+")",backgroundSize:"cover",backgroundPosition:"center",display:"flex",width:t,height:r,margin:"0 auto",maxWidth:"100%",backgroundColor:a}},l)},J=a.a.div(q,function(e){return e.margin},function(e){return e.margin+"px"},function(e){return e.background},function(e){return e.fixed?"center":"flex-start"});J.Item=a()(g.Card)(V,function(e){return e.margin+"px"},function(e){return e.background},function(e){return e.fixed?"center":"flex-start"},function(e){return e.fixed?0:"18px 22px"}),J.Item.displayName="ListItem",J.Name=a.a.div(H,function(e){return e.fixed?0:"10px"},function(e){return e.fixed?"#fff":"#787878"},function(e){return e.fixed?"#33333399":"transparent"});var Q=function(e){var n=e.name,t=e.fixed;return o.a.createElement(J.Name,{fixed:t?1:0},o.a.createElement(g.Tooltip,{title:n.length<20?"":n,placement:"topLeft"},n))},X=a.a.div(W),Y=function(e){function n(){var e,t,r;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return t=r=B(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(a))),r.handleRemoveItem=function(e,n){n.preventDefault(),n.stopPropagation(),r.props.onDelete&&r.props.onDelete(e)},r.onClick=function(e,t){var o=e[t];if("picture"!==o.type&&"video"!==o.type){var i=window.document.createElement("a"),a=n.getFileId(o);i.href=r.props.pdfPrevView&&"pdf"===o.type?n.getFile(a):n.getDownload(a),i.target="_blank",document.body.appendChild(i),i.click(),setTimeout(function(){document.body.removeChild(i)},0)}else r.props.onClick&&r.props.onClick(e,t)},r.sortItem=function(e,n){var t=[].concat(function(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}(r.props.items)),o=t[e];o&&(t.splice(e,1),t.splice(n,0,o),r.props.onSort(t))},r.renderMediaNode=function(e){var t,i=r.props,a=i.width,l=i.height,c=i.lazyLoad,s=i.fixed,d=n.getFileId(e),u=e.type,p=a/(s?1:1.8),f=l/(s?1:2.5);if(t=n.getThumbnail(d,a,l),"video"===u||"picture"===u){var g=o.a.createElement(U,{thumbnail:t,width:p,height:f,icon:"video"===u&&o.a.createElement(K,{type:"play-circle"})});return c?o.a.createElement(k.a,{height:l,offset:50,once:!0},g):g}return o.a.createElement(v,{type:u,size:s?a/2:f,style:{margin:"0 auto"}})},B(r,t)}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,r["PureComponent"]),L(n,[{key:"render",value:function(){var e=this,t=this.props,r=t.margin,i=t.bordered,a=t.background,l=t.noName,c=t.fixed,s=t.width,d=t.height,u=t.hasDeleteButton,p=void 0!==u&&u,f=t.onSort,h=t.sortOptions,m=this.props.items,b=m.map(function(t,u){var b=(!l||"picture"!==t.type&&"video"!==t.type)&&n.getFileName(t),y=n.getFileId(t),v=y+"_"+u,x=o.a.createElement(J.Item,{onClick:e.onClick.bind(null,m,u),key:v,bordered:i&&!l,style:{width:s,height:d},fixed:c?1:0,margin:r,background:a},e.renderMediaNode(t),p&&o.a.createElement(X,{onClick:e.handleRemoveItem.bind(null,y)},o.a.createElement(g.Icon,{type:"delete"})),b&&o.a.createElement(Q,{fixed:c,name:b}));if(f){var w=h.type,O=function(e,n){var t={};for(var r in e)n.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}(h,["type"]),k=M(w);return o.a.createElement(k,R({key:v,index:u,onSort:e.sortItem},O),x)}return x});return o.a.createElement(J,{margin:r},b)}}]),n}();Y.displayName="MediaList",Y.propTypes={items:w.a.array.isRequired,noName:w.a.bool,margin:w.a.number,bordered:w.a.bool,fixed:w.a.bool,onDelete:w.a.func,hasDeleteButton:w.a.bool,pdfPrevView:w.a.bool,lazyLoad:w.a.bool,onClick:w.a.func,onSort:w.a.func,sortOptions:w.a.shape({type:w.a.string,overClassName:w.a.string,draggingClassName:w.a.string,overStyle:w.a.object,draggingStyle:w.a.object})},Y.defaultProps={items:[],background:"#f5f5f5",width:100,height:100,margin:5,bordered:!1,fixed:!0,noName:!0,pdfPrevView:!1,lazyLoad:!0,sortOptions:{type:"SORT_ITEM",overClassName:"",draggingClassName:"",overStyle:{},draggingStyle:{}}},Y.getThumbnail=function(e,n,t){},Y.getFile=function(e){},Y.getDownload=function(e){},Y.bindGetFileFunctions=function(e){var n=e.getThumbnail,t=e.getFile,r=e.getDownload;Y.getFile=t,Y.getThumbnail=n,Y.getDownload=r},Y.getFileName=function(e){return e.name?e.name:e.extra&&e.extra.file_name?e.extra.file_name:e.extra&&e.extra.attrs?e.extra.attrs.file_name:void 0},Y.getFileId=function(e){return e.data?e.data:e.media_id||e.file_id||e.id};var Z=Object(j.DragDropContext)(E.a)(Y),$=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ne=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),te=se(["\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  z-index: 9999;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.6);\n"],["\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  z-index: 9999;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.6);\n"]),re=se(["\n  position: absolute;\n  top: 20px;\n  right: 20px;\n  z-index: 1;\n  text-align: right;\n"],["\n  position: absolute;\n  top: 20px;\n  right: 20px;\n  z-index: 1;\n  text-align: right;\n"]),oe=se(["\n  flex: 1;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  user-select: none;\n  position: relative;\n"],["\n  flex: 1;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  user-select: none;\n  position: relative;\n"]),ie=se(["\n  width: 100px;\n  min-width: 100px;\n  height: 100%;\n  overflow-y: auto;\n  padding: 10px;\n  background: rgba(0, 0, 0, 0.3);\n  li {\n    height: 80px;\n    background-size: cover !important;\n    margin-top: 8px;\n    text-align: center;\n  }\n  .onSelected {\n    outline: 3px solid #fff;\n  }\n"],["\n  width: 100px;\n  min-width: 100px;\n  height: 100%;\n  overflow-y: auto;\n  padding: 10px;\n  background: rgba(0, 0, 0, 0.3);\n  li {\n    height: 80px;\n    background-size: cover !important;\n    margin-top: 8px;\n    text-align: center;\n  }\n  .onSelected {\n    outline: 3px solid #fff;\n  }\n"]),ae=se(["\n  color: #fff;\n  transition: opacity 0.1s;\n  text-shadow: 0 0 2px rgba(0, 0, 0, 0.8);\n  opacity: 0.8;\n  font-size: 30px;\n  &:hover {\n    color: #fff;\n    opacity: 1;\n  }\n  cursor: pointer;\n"],["\n  color: #fff;\n  transition: opacity 0.1s;\n  text-shadow: 0 0 2px rgba(0, 0, 0, 0.8);\n  opacity: 0.8;\n  font-size: 30px;\n  &:hover {\n    color: #fff;\n    opacity: 1;\n  }\n  cursor: pointer;\n"]),le=se(["\n  position: absolute;\n  display: flex;\n  align-items: center;\n  width: 20%;\n  height: 100%;\n  font-size: 36px;\n"],["\n  position: absolute;\n  display: flex;\n  align-items: center;\n  width: 20%;\n  height: 100%;\n  font-size: 36px;\n"]);function ce(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function se(e,n){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var de=a()(f)(te),ue=a.a.div(re),pe=a()(f)(oe),fe=a()(f)(ie),ge=a.a.a(ae),he=a()(ge)(le),me=function(e){function n(){var e,t,r;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=r=ce(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i))),r.state={current:r.props.current,visible:r.props.visible},r.onKeyDown=function(e){if(r.props.medias&&!(r.props.medias.length<1))return 37===e.keyCode||38===e.keyCode?(e.preventDefault(),e.stopPropagation(),r.prevMedia()):39===e.keyCode||40===e.keyCode?(e.preventDefault(),e.stopPropagation(),r.nextMedia()):27===e.keyCode&&r.handleClose(),!1},r.getMedia=function(e){var n=r.props.medias[e];if("object"===ee(n.extra))return n;var t={};try{(t=JSON.parse(n.extra)).attrs&&(t=t.attrs)}catch(e){t={}}return $({},n,{extra:t})},r.handleClose=function(){r.props.onClose&&r.props.onClose()},r.handleChange=function(e){r.setState({current:e})},r.prevMedia=function(){if(r.props.sidebar){var e=r.state.current-1;0===r.state.current&&(e=r.props.medias.length-1),r.handleChange(e)}},r.nextMedia=function(){if(r.props.sidebar){var e=0;r.state.current!==r.props.medias.length-1&&(e=r.state.current+1),r.handleChange(e)}},ce(r,t)}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,r["Component"]),ne(n,[{key:"componentDidUpdate",value:function(e){this.props.visible&&!e.visible&&(document.addEventListener("keydown",this.onKeyDown,!1),document.body.style.overflow="hidden"),!this.props.visible&&e.visible&&(document.body.style.overflow="",document.removeEventListener("keydown",this.onKeyDown))}},{key:"renderDownloadIcon",value:function(e){var t=n.getFileId(e);return this.props.canDownload?o.a.createElement(ge,{href:n.getDownload(t),rel:"noopener noreferrer",target:"_blank",download:!0,style:{marginRight:20}},o.a.createElement(g.Icon,{type:"download",size:32})):"picture"!==e.type&&"video"!==e.type?o.a.createElement(ge,{as:"a",href:n.getFile(t),rel:"noopener noreferrer",target:"_blank",style:{marginRight:20}},o.a.createElement(g.Icon,{type:"eye",size:32})):o.a.createElement(ge,{as:"a",style:{marginRight:20}}," ")}},{key:"renderCurrentMedia",value:function(){var e=this,t=this.currentMedia,r=this.isMultiple?80:40,i=window.document.body.clientWidth-r,a=window.document.body.clientHeight-20,l=t.type,c=n.getFileId(t),s=n.getFile(c);return o.a.createElement(f,{flex:1,className:"relative"},o.a.createElement(ue,null,this.renderDownloadIcon(t),o.a.createElement(ge,{onClick:this.handleClose},o.a.createElement(g.Icon,{type:"close-circle",theme:"filled"}))),o.a.createElement(pe,{onClick:this.isMultiple?void 0:function(n){"VIDEO"!==n.target.tagName&&"IMG"!==n.target.tagName&&e.handleClose()}},this.isMultiple&&this.props.sidebar&&o.a.createElement(he,{onClick:this.prevMedia,style:{justifyContent:"flex-start",left:0}},o.a.createElement(g.Icon,{type:"left"})),o.a.createElement("div",{style:{maxWidth:i,maxHeight:a,textAlign:"center",width:"100%"}},"picture"===l&&o.a.createElement("img",{key:s,src:s+"thumbnail/",style:{maxHeight:a,maxWidth:"100%"},alt:s}),"video"===l&&o.a.createElement("video",{key:s,src:s,controls:!0,autoPlay:!0,controlsList:"nodownload",style:{maxHeight:a,maxWidth:"calc(100% - 40%)"}}),"picture"!==l&&"video"!==l&&o.a.createElement("a",{href:n.getFile(c),rel:"noopener noreferrer",target:"_blank"},o.a.createElement(f,{align:"center"},o.a.createElement(v,{type:l,size:100}),o.a.createElement("p",{className:"t-white m-t-20 f18"},n.getFileName(t))))),this.isMultiple&&this.props.sidebar&&o.a.createElement(he,{onClick:this.nextMedia,style:{justifyContent:"flex-end",right:0}},o.a.createElement(g.Icon,{type:"right"}))))}},{key:"render",value:function(){var e=this,t=this.props,r=t.medias,i=t.sidebar;return this.props.visible?o.a.createElement(de,{row:!0,align:"stretch"},this.renderCurrentMedia(),i&&r.length>1&&o.a.createElement(fe,null,o.a.createElement("ul",null,r.map(function(t,r){var i=e.getMedia(r),a=n.getFileName(i),l=n.getFileId(i);if("video"===i.type||"picture"===i.type){var c=n.getThumbnail(l,160,160);return o.a.createElement("li",{key:l,className:r===e.state.current?"onSelected":"",title:a,style:{background:"url("+c+") center no-repeat"},onClick:e.handleChange.bind(null,r)})}return o.a.createElement("li",{key:l,className:r===e.state.current?"onSelected":"",title:a,onClick:e.handleChange.bind(null,r)},o.a.createElement(v,{type:i.type,size:50,style:{margin:"0 auto",paddingTop:10}}))})))):null}},{key:"currentMedia",get:function(){return this.getMedia(this.state.current)}},{key:"isMultiple",get:function(){return this.props.medias.length>1}}],[{key:"getDerivedStateFromProps",value:function(e,n){return e.visible&&!n.visible?{current:e.current,visible:e.visible}:e.visible?null:{visible:!1,current:0}}}]),n}();me.displayName="SlideShow",me.propTypes={visible:w.a.bool,canDownload:w.a.bool,onClose:w.a.func,medias:w.a.array,current:w.a.number},me.defaultProps={visible:!1,medias:[],canDownload:!0,current:0},me.getThumbnail=function(e,n,t){},me.getFile=function(e){},me.getDownload=function(e){},me.bindGetFileFunctions=function(e){var n=e.getThumbnail,t=e.getFile,r=e.getDownload;me.getFile=t,me.getThumbnail=n,me.getDownload=r},me.getFileName=function(e){return e.name?e.name:e.extra&&e.extra.file_name?e.extra.file_name:e.extra&&e.extra.attrs?e.extra.attrs.file_name:void 0},me.getFileId=function(e){return e.data?e.data:e.media_id||e.file_id||e.id};var be,ye,ve=me,xe=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},we=(be=["\n  .ant-modal {\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    height: 100vh;\n    width: 100vw !important;\n    padding-bottom: 0;\n    color: ",";\n  }\n  .ant-modal-content {\n    background: ",";\n    height: 100%;\n    overflow: auto;\n  }\n  .ant-modal-close {\n    color: #666;\n  }\n  .ant-modal-header {\n    display: ",";\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n  }\n  .ant-modal-footer {\n    display: ",";\n    bottom: 0px;\n    position: absolute;\n    left: 0;\n    right: 0;\n  }\n  .ant-modal-body {\n    background: transparent;\n    height: 100%;\n    padding: ",";\n  }\n"],ye=["\n  .ant-modal {\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    height: 100vh;\n    width: 100vw !important;\n    padding-bottom: 0;\n    color: ",";\n  }\n  .ant-modal-content {\n    background: ",";\n    height: 100%;\n    overflow: auto;\n  }\n  .ant-modal-close {\n    color: #666;\n  }\n  .ant-modal-header {\n    display: ",";\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n  }\n  .ant-modal-footer {\n    display: ",";\n    bottom: 0px;\n    position: absolute;\n    left: 0;\n    right: 0;\n  }\n  .ant-modal-body {\n    background: transparent;\n    height: 100%;\n    padding: ",";\n  }\n"],Object.freeze(Object.defineProperties(be,{raw:{value:Object.freeze(ye)}})));var Oe=a()(function(e){var n=e.className,t=e.children,r=(e.background,function(e,n){var t={};for(var r in e)n.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}(e,["className","children","background"]));return o.a.createElement(g.Modal,xe({},r,{mask:!1,wrapClassName:n+" "+(r.wrapClassName||"")}),t)})(we,function(e){return e.color||"#474747"},function(e){return e.background||"#fff"},function(e){return e.hasHeader?"block":"none"},function(e){return e.hasFooter?"block":"none"},function(e){return e.hasFooter||e.hasHeader?"60px 24px":"24px"});t.d(n,"View",function(){return f}),t.d(n,"FileIcon",function(){return v}),t.d(n,"MediaList",function(){return Z}),t.d(n,"SlideShow",function(){return ve}),t.d(n,"FullScreenModal",function(){return Oe}),t.d(n,"Sortable",function(){return T}),t.d(n,"generateSortable",function(){return M})},function(e,n,t){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var t={}.hasOwnProperty;function o(){for(var e=[],n=0;n<arguments.length;n++){var r=arguments[n];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var a=o.apply(null,r);a&&e.push(a)}else if("object"===i)for(var l in r)t.call(r,l)&&r[l]&&e.push(l)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(n,[]))||(e.exports=r)}()}]);
//# sourceMappingURL=index.js.map